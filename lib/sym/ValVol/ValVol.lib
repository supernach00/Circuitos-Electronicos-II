* ----------------------------------------------------------
* Библиотека личных моделей Валентина Яковлевича Володина
* email: valvolodin@narod.ru
* ---------------------------------------------------------- 
* Модель ШИМ контроллера TL494
* Создана 1 Февраля 2008 года
* Последняя редакция 18 Декабря 2015 года
* 
.subckt tl494 IN1 -IN1 IN2 -IN2 FB DTC Vref OCT CT1 ET1 CT2 ET2 Ct Rt GND Vcc
A1 N005 0 N006 0 0 N005 N010 0 DFLOP Vhigh=5 Trise=50n
A2 0 0 0 OCT N010 0 N007 0 AND Vhigh=5 Trise=50n
A3 N005 OCT 0 0 0 0 N013 0 AND Vhigh=5 Trise=50n Rout=30
A4 N006 N007 0 0 N011 N004 0 0 OR Vhigh=5 Trise=300n
A5 N006 N013 0 0 N011 N015 0 0 OR Vhigh=5 Trise=300n
G1 N002 ET1 N004 0 table=(1 0,4 250m)
G3 N014 ET2 N015 0 table=(1 0,4 250m)
A6 N008 N012 0 0 0 0 N006 0 OR Vhigh=5 Trise=50n
A7 N009 Ct 0 0 0 0 N008 0 SCHMITT Vt=0 Vh=0.1m Vhigh=5
A8 FB N016 0 0 0 0 N012 0 SCHMITT Vt=0 Vh=0.1m Vhigh=5
V4 N016 Ct 0.7
V5 N009 DTC 0.1
D5 N020 FB IDEAL
D6 N025 FB IDEAL
R1 N017 N018 1meg
R3 N022 N023 1meg
C4 N019 0 15.9n ic=0
C5 N024 0 15.9n ic=0
D1 ET1 N002 IDEALZ
E1 N020 0 N019 0 table=(0,0 5,5)
E2 N025 0 N024 0 table=(0,0 5,5)
R5 -IN1 0 5meg
R6 IN1 0 5meg
R7 -IN2 0 5meg
R8 IN2 0 5meg
I1 FB 0 0.7m
V2 N001 0 3.65
F1 0 Ct V2 -1
S1 0 Ct N003 0 OSC
D3 CT1 N002 IDEAL1
D7 CT1 N002 IDEAL2
G2 ET1 N002 Vcc ET1 table=(0 250m,1.42 243m,1.46 150m,1.57 0)
D2 ET2 N014 IDEALZ
D4 CT2 N014 IDEAL1
D8 CT2 N014 IDEAL2
G4 ET2 N014 Vcc ET2 table=(0 250m,1.42 243m,1.46 150m,1.57 0)
C7 N002 ET1 5p ic=0
C8 N014 ET2 5p ic=0
D9 N001 Rt IDEAL
R14 Ct 0 5meg
R15 ET2 0 5meg
R16 ET1 0 5meg
G5 Vcc 0 Vcc 0 TABLE=(1 0,5 4.5m,6.85 7.6m,40 8.4m)
B1 Vcc 0 I=25m-I(D10)
R10 Ct N003 5k
C1 N003 0 10p ic=0
I3 N018 N019 10m load
I4 N019 N018 10m load
I5 N023 N024 10m load
I6 N024 N023 10m load
E3 N017 0 IN1 -IN1 100000
E4 N022 0 IN2 -IN2 100000
D11 0 N019 DAMP
D12 0 N024 DAMP
C2 N018 0 0.2p ic=0
C3 N023 0 0.2p ic=0
R2 DTC 0 5meg
E5 N021 0 Vcc 0 table=(1 0,6 5)
I2 0 Vref 25m
D10 Vref N021 IDEAL
R4 OCT 0 5meg
A9 Vcc 0 0 0 0 N011 0 0 BUF Vhigh=5 Trise=300n Ref=7
.MODEL IDEALZ D(Ron=0 Roff=20meg Vfwd=0 Vrev=41)
.MODEL IDEAL D(Ron=0 Roff=1G Vfwd=0)
.model OSC SW(Ron=10 Vt=1.51 Vh=1.49 Ilimit=20m)
.MODEL IDEAL1 D(Ron=2 Roff=1G Vfwd=0.66)
.MODEL IDEAL2 D(Ron=175 Roff=1G Vfwd=0)
.model DAMP D(Ron=0 Rrev=500 Roff=1Meg Vfwd=0 Vrev=3.5 Revepsilon=1)
.ends tl494
*
*
* Макромодель ШИМ контроллера UC3825
* Создана для книги, описывающей программу LTspice/SwCAD III   
.subckt uc3825 CLK RT CT RAMP EAOUT NI INV SS ILIM VCC 0 VC OUTA OUTB PGND VREF
A7 N039 N021 0 0 0 0 N040 0 OR Vhigh=5.1 Trise=20n Rout=30
A8 N034 N021 0 0 0 0 N035 0 OR Vhigh=5.1 Trise=20n Rout=30
A9 N033 0 0 0 N027 0 N034 0 AND Vhigh=5.1 Trise=20n Rout=30
A11 N040 N046 0 0 0 N038 N027 0 SRFLOP Vhigh=5.1 Trise=20n Rout=30
A12 N035 N038 0 0 0 0 N037 0 SRFLOP Vhigh=5.1 Trise=20n Rout=30
G1 VCC 0 VCC 0 table=(0 0,1 0.5m,8 1.5m,9 2.5m,10 22m)
G2 SS 0 N037 0 49µ
I1 0 SS 9µ
A3 N017 N018 0 0 0 N022 0 0 OR Vhigh=5.1 Trise=20n Rout=30
A10 N017 N009 0 0 0 0 N028 0 AND Vhigh=5.1 Trise=20n Rout=30
A13 N009 N018 0 0 0 0 N029 0 AND Vhigh=5.1 Trise=20n Rout=30
A14 N006 0 0 N022 0 0 N019 0 AND Vhigh=5.1 Trise=20n Rout=30
A15 N028 N029 N027 N021 0 0 N030 0 OR Vhigh=5.1 Trise=20n Rout=30
A16 N019 N030 0 0 0 N025 0 0 SRFLOP Vhigh=5.1 Trise=20n Rout=30
A17 N006 N025 N027 0 0 0 N020 0 OR Vhigh=5.1 Trise=20n Rout=30
A18 N015 0 N020 0 0 N015 N023 0 DFLOP Vhigh=5.1 Trise=20n Rout=30
A19 0 0 N020 N021 N023 pra 0 0 OR Vhigh=5.1 Trise=30n Tfall=60n
A20 N015 N020 N021 0 0 prb 0 0 OR Vhigh=5.1 Trise=30n Tfall=60n
A21 N024 EAOUT 0 0 0 0 N017 0 SCHMITT Vt=0 Vh=0 Vhigh=5.1 Trise=20n Rout=30
V1 N024 RAMP 1.25
V3 N010 0 3
F1 0 CT V3 -1
S1 0 CT N006 0 OSC
A2 SS 0 0 0 0 N046 0 0 BUF Ref=0.2 Vhigh=5.1 Trise=20n Rout=30
A1 ILIM 0 0 0 0 0 N039 0 BUF Ref=1.2 Vhigh=5.1 Trise=20n Rout=30
A6 ILIM 0 0 0 0 0 N018 0 BUF Ref=1.0 Vhigh=5.1 Trise=20n Rout=30
A5 SS 0 0 0 0 0 N033 0 BUF Ref=5.0 Vhigh=5.1 Trise=20n Rout=30
A22 CT 0 0 0 0 0 N006 0 SCHMITT Vhigh=5.1 Trise=10n Rout=30 Vt=1.9 Vh=0.9
S2 CLK VREF N006 0 LEB
E3 N036 0 SS 0 1
D1 EAOUT N036 IDEAL
A4 VCC 0 0 0 0 N021 N047 0 SCHMITT Vhigh=5.1 Trise=20n Rout=30 Vt=8.8 Vh=0.4
A23 CLK 0 0 0 0 N009 0 0 SCHMITT Vhigh=5.1 Trise=10n Rout=30 Vt=2.8 Vh=0.1
I2 CLK 0 400µ
V5 N011 0 2.3
D4 N011 CLK IDEAL
D5 N010 RT IDEAL
R15 EAOUT N045 500
D3 0 SS Z5_1
D11 0 VREF Z5_1
G3 0 VREF N047 0 10m
R2 N042 N043 1meg
C1 N044 0 1.58n IC=0
E2 N045 0 N044 0 table=(0,0 5,5)
I3 N043 N044 16m load
I4 N044 N043 16m load
E1 N041 0 NI INV 56234
D2 0 N044 DAMP
R1 N041 N042 1k
C2 N042 0 15.9p IC=0
R4 INV 0 5meg
R5 NI 0 5meg
C3 N043 0 0.02p IC=0
R3 prb 0 10k
R6 pra 0 10k
B1 N016 0 V=V(prb)*V(VC,PGND)/5.1
B2 N004 0 V=V(pra)*V(VC,PGND)/5.1
F2 VC PGND V7 1
F3 VC PGND V6 1
V2 N026 N032 0.155 Rser=1.29
D6 N026 OUTB Ideal
I5 OUTB N026 0.416
R7 OUTB N026 5.86
D12 OUTB N032 DF1_957
I6 N012 OUTB 0.908
D13 OUTB N012 Ideal
R8 N012 OUTB 0.418
V6 N014 N012 1.362 Rser=0.592
E4 N031 PGND N016 0 1
E5 N013 PGND N016 0 1
D14 N013 N014 Ideal
D15 N032 N031 Ideal
V4 N005 N008 0.155 Rser=1.29
D16 N005 OUTA Ideal
I7 OUTA N005 0.416
R9 OUTA N005 5.86
D17 OUTA N008 DF1_957
I8 N001 OUTA 0.908
D18 OUTA N001 Ideal
R10 N001 OUTA 0.418
V7 N003 N001 1.362 Rser=0.592
E6 N007 PGND N004 0 1
E7 N002 PGND N004 0 1
D19 N002 N003 Ideal
D20 N008 N007 Ideal
R11 N016 0 10k
R12 N004 0 10k
.MODEL Z5_1 D(Ron=0 Roff=1G Vfwd=0 Vrev=5.1)
.model OSC SW(Ron=100 Roff=1meg Vt=2.5 Vh=-1.5 Ilimit=10m)
.model LEB SW(Ron=10 Roff=1meg Vt=2.5 Vh=-1.5 Vser=0.6 Ilimit=5m)
.MODEL IDEAL D(Ron=0 Roff=1G Vfwd=0)
.MODEL IDEALIS D(Ron=100 Roff=1G Vfwd=0.6)
.model DAMP D(Ron=0 Rrev=500 Roff=1G Vfwd=0 Vrev=4 Revepsilon=1)
.MODEL DF1_957 D(Ron=1.37 Roff=1G Vfwd=1.957)
.IC V(CT)=0 V(SS)=5.1 V(VREF)=5.1
.ends uc3825
*
*
* Модель ШИМ контроллера SG3525
* создана 4 Марта 2009 года
*  
.subckt sg3525a INV NI SYN OSC CT RT DCH SS CMP SHD OUA GND VC OUB VIN VRF
A2 N017 0 N009 0 0 N017 N020 0 DFLOP Vhigh=5.1 Trise=20n Rout=30
A3 N018 N019 N009 0 N020 N005 N011 0 OR Vhigh=5.1 Trise=400n Rout=30
A4 N017 N009 0 N019 N018 N023 N022 0 OR Vhigh=5.1 Trise=400n Rout=30
S1 OUA N004 N005 0 HOUT
S2 N012 OUA N011 0 LOUT
S3 OUB N021 N023 0 HOUT
S4 N028 OUB N022 0 LOUT
I1 N031 0 21m
D1 0 N031 IDEAL
R2 N029 N031 8.93
R3 N029 0 22.6
D3 N029 N032 D1_75
D4 0 N032 IDEAL
I2 N032 0 188m
R4 N032 0 2.28
D5 N028 N029 IDEAL
I3 N014 0 21m
D2 0 N014 IDEAL
R1 N013 N014 8.93
R5 N013 0 22.6
D6 N013 N015 D1_75
D7 0 N015 IDEAL
I4 N015 0 188m
R6 N015 0 2.28
D8 N012 N013 IDEAL
D9 VC N021 IDEAL
D10 VC N004 IDEAL
G2 0 N024 NI N027 table=(-70m -100u,0 0,70m 100u)
R16 N024 0 4meg
C3 N024 0 100p
R17 N024 CMP 30
R7 INV 0 1meg
R11 NI 0 1meg
I7 0 VRF 80m
R19 VRF 0 170
D19 0 VRF Z5_1
D20 0 VC Z40
A6 VIN 0 0 0 0 N001 0 0 SCHMITT Vhigh=5.1 Vlow=0.45 Trise=20n Vt=7.25 Vh=0.25
I8 VIN 0 TBL(0 0 3 3.8m 7 19m 8 20m 40 24.1m)
D21 N030 N024 Z5_6
V1 N030 0 0.2
R20 N036 0 5k
R21 SHD N002 5k
Q1 SS N002 N036 0 NPN
D22 N002 0 D1_2
R22 N001 N002 60k
D23 0 SS Z5_1
I9 0 SS 50µ
A7 N002 0 0 0 0 0 N019 0 SCHMITT Vhigh=5.1 Trise=400n Vt=634m Vh=1m
A8 N026 N009 0 0 0 0 N018 0 SRFLOP Vhigh=5.1 Trise=20n Rout=30
A9 0 N025 N019 0 0 0 N026 0 OR Vhigh=5.1 Trise=20n Rout=30
A10 CT N034 0 0 0 0 N025 0 SCHMITT Vhigh=5.1 Trise=20n Vt=0 Vh=10m
E1 N033 0 N024 0 1
E2 N035 0 SS 0 1
R23 N033 N034 500
D24 N034 N035 IDEAL
R24 INV N027 1k
C1 NI N027 40p
R8 SYN 0 2k
R9 OSC N016 250
V2 N003 0 3.64
F1 0 CT V2 -1
D11 N003 RT IDEAL
R10 N016 0 3k
D12 N009 N016 D1_6
S5 0 DCH N009 0 LSW
D13 0 CT Z5_1
A1 N008 N010 0 0 0 0 N009 0 SRFLOP Vhigh=5.1 Ref=0.9 Trise=150n Tfall=250n
A5 N006 N007 0 0 0 0 N008 0 OR Vhigh=5.1 Trise=20n
A11 CT 0 0 0 0 0 N006 0 BUF Vhigh=5.1 Ref=3.2 Trise=20n
A12 CT 0 0 0 0 N010 0 0 BUF Vhigh=5.1 Ref=0.9 Trise=20n
A13 SYN 0 0 0 0 0 N007 0 BUF Vhigh=5.1 Ref=2 Trise=20n
.model NPN NPN
.model PNP PNP
.model HOUT SW(Ron=2.7 Roff=175k Vt=2.8 Vh=-2.1 Vser=1.1 Ilimit=0.5)
.model LOUT SW(Ron=10m Roff=175k Vt=2.8 Vh=-2.1 Vser=0 Ilimit=0.5)
.model IDEAL D(Ron=0 Roff=1G Vfwd=0)
.model D1_75 D(Ron=1.57 Roff=1G Vfwd=1.75)
.model D1_6 D(Ron=0 Roff=1G Vfwd=1.6)
.model Z5_1 D(Ron=1 Roff=1G Vrev=5.075)
.model Z40 D(Ron=0 Roff=175k Vrev=40)
.model Z5_6 D(Ron=1 Roff=1G Vrev=5.6)
.model D1_2 D(Ron=0 Roff=1G Vfwd=1.2)
.model LSW SW(Vt=2.55 Vh=-0.5 Ron=1 Roff=1meg Vser=0.6 Ilimit=40ma)
.ends sg3525a
*
*
* Модель ШИМ контроллера UC3527
* создана из модели SG3525, 17 Января 2010 года
*  
.subckt uc3527a INV NI SYN OSC CT RT DCH SS CMP SHD OUA GND VC OUB VIN VRF
A2 N017 0 N009 0 0 N017 N020 0 DFLOP Vhigh=5.1 Trise=20n Rout=30
A3 N018 N019 N009 0 N020 N011 N005 0 OR Vhigh=5.1 Trise=400n Rout=30
A4 N017 N009 0 N019 N018 N023 N022 0 OR Vhigh=5.1 Trise=400n Rout=30
S1 OUA N004 N005 0 HOUT
S2 N012 OUA N011 0 LOUT
S3 OUB N021 N022 0 HOUT
S4 N028 OUB N023 0 LOUT
I1 N031 0 21m
D1 0 N031 IDEAL
R2 N029 N031 8.93
R3 N029 0 22.6
D3 N029 N032 D1_75
D4 0 N032 IDEAL
I2 N032 0 188m
R4 N032 0 2.28
D5 N028 N029 IDEAL
I3 N014 0 21m
D2 0 N014 IDEAL
R1 N013 N014 8.93
R5 N013 0 22.6
D6 N013 N015 D1_75
D7 0 N015 IDEAL
I4 N015 0 188m
R6 N015 0 2.28
D8 N012 N013 IDEAL
D9 VC N021 IDEAL
D10 VC N004 IDEAL
G2 0 N024 NI N027 table=(-70m -100u,0 0,70m 100u)
R16 N024 0 4meg
C3 N024 0 100p
R17 N024 CMP 30
R7 INV 0 1meg
R11 NI 0 1meg
I7 0 VRF 80m
R19 VRF 0 170
D19 0 VRF Z5_1
D20 0 VC Z40
A6 VIN 0 0 0 0 N001 0 0 SCHMITT Vhigh=5.1 Vlow=0.45 Trise=20n Vt=7.25 Vh=0.25
I8 VIN 0 TBL(0 0 3 3.8m 7 19m 8 20m 40 24.1m)
D21 N030 N024 Z5_6
V1 N030 0 0.2
R20 N036 0 5k
R21 SHD N002 5k
Q1 SS N002 N036 0 NPN
D22 N002 0 D1_2
R22 N001 N002 60k
D23 0 SS Z5_1
I9 0 SS 50µ
A7 N002 0 0 0 0 0 N019 0 SCHMITT Vhigh=5.1 Trise=400n Vt=634m Vh=1m
A8 N026 N009 0 0 0 0 N018 0 SRFLOP Vhigh=5.1 Trise=20n Rout=30
A9 0 N025 N019 0 0 0 N026 0 OR Vhigh=5.1 Trise=20n Rout=30
A10 CT N034 0 0 0 0 N025 0 SCHMITT Vhigh=5.1 Trise=20n Vt=0 Vh=10m
E1 N033 0 N024 0 1
E2 N035 0 SS 0 1
R23 N033 N034 500
D24 N034 N035 IDEAL
R24 INV N027 1k
C1 NI N027 40p
R8 SYN 0 2k
R9 OSC N016 250
V2 N003 0 3.64
F1 0 CT V1 -1
D11 N003 RT IDEAL
R10 N016 0 3k
D12 N009 N016 D1_6
S5 0 DCH N009 0 LSW
D13 0 CT Z5_1
A1 N008 N010 0 0 0 0 N009 0 SRFLOP Vhigh=5.1 Ref=0.9 Trise=150n Tfall=250n
A5 N006 N007 0 0 0 0 N008 0 OR Vhigh=5.1 Trise=20n
A11 CT 0 0 0 0 0 N006 0 BUF Vhigh=5.1 Ref=3.2 Trise=20n
A12 CT 0 0 0 0 N010 0 0 BUF Vhigh=5.1 Ref=0.9 Trise=20n
A13 SYN 0 0 0 0 0 N007 0 BUF Vhigh=5.1 Ref=2 Trise=20n
.model NPN NPN
.model PNP PNP
.model HOUT SW(Ron=2.7 Roff=175k Vt=2.8 Vh=-2.1 Vser=1.1 Ilimit=0.5)
.model LOUT SW(Ron=10m Roff=175k Vt=2.8 Vh=-2.1 Vser=0 Ilimit=0.5)
.model IDEAL D(Ron=0 Roff=1G Vfwd=0)
.model D1_75 D(Ron=1.57 Roff=1G Vfwd=1.75)
.model D1_6 D(Ron=0 Roff=1G Vfwd=1.6)
.model Z5_1 D(Ron=1 Roff=1G Vrev=5.075)
.model Z40 D(Ron=0 Roff=175k Vrev=40)
.model Z5_6 D(Ron=1 Roff=1G Vrev=5.6)
.model D1_2 D(Ron=0 Roff=1G Vfwd=1.2)
.model LSW SW(Vt=2.55 Vh=-0.5 Ron=1 Roff=1meg Vser=0.35 Ilimit=40ma)
.ends uc3527a
*
*
* MODEL HCPL3180
* Моделирует входные и выходные параметры, 
* а также временные задержки
* Создана 10 Ноября 2008 года
*
.subckt hcpl3180 NC AN CA NC Vee Vo1 Vo Vcc
V1 N005 CA 0
D1 AN N005 DINP
D2 Vcc N002 DOUT
W1 N001 N004 V1 SWON
W2 N004 Vee V1 SWOFF
V2 Vee N001 5
R1 N004 N003 1k
C1 N003 Vee 250p
S1 N002 Vo Vee N003 SWUP ON
S2 Vo Vee Vee N003 SWDN OFF
R2 NC 0 5meg
R3 Vo Vo1 1m
.model DINP D(Ron=5 Roff=10meg Vfwd=1.1 Vrev=5)
.model DOUT D(Ron=0 Roff=10meg Vfwd=2)
.model SWON CSW(It=2.9m Ih=-0,1m Ron=1 Roff=10meg)
.model SWUP SW(Vt=2.5 Vh=-0,5 Ron=1.2 Roff=10meg)
.model SWDN SW(Vt=2.5 Vh=-0,5 Ron=10meg Roff=2)
.model SWOFF CSW(It=2.9m Ih=-0,1m Ron=10meg Roff=1)
.ends hcpl3180
*
* MODEL HCPL316
* Моделирует входные и выходные параметры, 
* а также временные задержки
* Создана 15 Июня 2010 года
*
.subckt HCPL316 Vin+ Vin- Vcc1 GN1 RESET FAULT Vled1+ Vled1- Vee Vee1 Vout Vc Vcc2 DESAT Vled2+ Ve
A1 N005 N008 GN1 GN1 N013 N011 N009 GN1 AND Vhigh=5 Trise=50n Rout=10 tripdt=50n
A4 N023 N027 GN1 GN1 GN1 N028 N026 GN1 SRFLOP Vhigh=5 Trise=50n Rout=10 tripdt=50n
R1 Vcc1 GN1 820
R2 N016 Vcc1 430
D1 N016 N011 Ideal
E1 N004 Ve Vled1+ Vled1- 16
E2 N023 GN1 Vled2+ Ve 2.7
D2 FAULT N028 Ideal
R3 N012 Vcc1 10k
C1 N012 GN1 390p
D3 N012 N026 Ideal
A2 N012 GN1 GN1 GN1 GN1 N013 GN1 GN1 SCHMITT Vhigh=5 Vt=1.4 Vh=0.6 Trise=50n Rout=10 tripdt=50n
A3 Vin- GN1 GN1 GN1 GN1 N008 GN1 GN1 SCHMITT Vhigh=5 Vt=1.4 Vh=0.6 Trise=50n Rout=10 tripdt=50n
A5 RESET GN1 GN1 GN1 GN1 N027 GN1 GN1 SCHMITT Vhigh=5 Vt=1.4 Vh=0.6 Trise=50n Rout=10 tripdt=50n
A6 Vin+ GN1 GN1 GN1 GN1 GN1 N005 GN1 SCHMITT Vhigh=5 Vt=1.4 Vh=0.6 Trise=50n Rout=10 tripdt=50n
A7 N002 N004 Ve Ve Ve Ve N001 Ve AND Vhigh=30 Trise=50n Rout=10 tripdt=50n
A8 N001 N003 Ve Ve Ve Ve N002 Ve OR Vhigh=30 Trise=50n Rout=10 tripdt=50n
A9 Ve Ve N007 Ve N001 Ve N006 Ve OR Vhigh=30 Trise=50n Rout=10 tripdt=50n
A10 N004 Ve Ve Ve Ve N007 Ve Ve BUF Vhigh=30 Trise=50n Rout=10 tripdt=50n
A13 N014 N004 Ve N019 N024 N020 N018 Ve AND Vhigh=30 Trise=50n Rout=10 tripdt=50n
A15 N001 Ve Ve Ve Ve N019 Ve Ve BUF Vhigh=30 Trise=50n Rout=10 tripdt=50n
A17 N021 Ve N001 Ve Ve N029 Ve Ve AND Vhigh=30 Trise=50n Rout=10 tripdt=50n
A18 N020 N029 N031 Ve Ve N024 N030 Ve AND Vhigh=30 Trise=50n Rout=10 tripdt=50n
A21 N015 Ve N032 Ve N001 Ve N031 Ve OR Vhigh=30 Trise=50n Rout=10 tripdt=50n
A22 N004 Ve Ve Ve Ve N032 Ve Ve BUF Vhigh=30 Trise=50n Rout=10 tripdt=50n
I1 Ve DESAT 250µ
A11 DESAT Ve Ve Ve Ve Ve N003 Ve BUF Vhigh=30 Ref=7 Trise=50n Rout=10 tripdt=50n
A12 Vcc2 Ve Ve Ve Ve N015 N014 Ve SCHMITT Vhigh=30 Vt=11.7 Vh=0.6 Trise=50n Rout=10 tripdt=50n
S1 Ve DESAT N006 Ve 50m
S2 Vout N025 N018 Ve darl
S3 Vee Vout N030 Ve 50x
S4 Vee Vout N001 Ve 1x
D4 Vc N025 2V
R4 Vc N025 20
D5 Vee Vout SWD
R5 Vee Vee1 1m
R6 N021 N022 10k
R7 Vcc2 N022 10k
D6 N022 Vout Ideal
D7 Ve N021 Ideal
R8 Ve Vcc2 6k
R9 Vc Vee 50k
D8 N001 N017 Ideal
R10 N017 Vled2+ 10k
D9 Vled2+ Ve 2V
D10 N009 N010 Ideal
R11 N010 Vled1+ 10k
D11 Vled1+ Vled1- 2V
R12 Vcc1 RESET 10k
D12 Ve DESAT SWD
.model Ideal D(Ron=1m Roff=1Meg Vfwd=0)
.model 50m SW(Ron=0.1 Roff=10Meg Vt=15 Vh=-5 Ilimit=50m)
.model 2V D(Ron=0.1 Roff=1Meg Vfwd=1.8)
.model darl SW(Ron=1m Roff=10Meg Vt=15 Vh=-5)
.model 50x SW(Ron=1 Roff=10Meg Vt=15 Vh=-5)
.model 1x SW(Ron=50 Roff=10Meg Vt=15 Vh=-5 Ilimit=170m)
.model SWD D(Ron=0.1 Roff=1Meg Vfwd=0.6)
.ends HCPL316
*
*
* Модель операционного усилителя К544УД2. 
* Эта модель позимствована из библиотеки r-opamp.lib Micro-Cap
* created using Parts version 1.04 on 10/11/90 at 10:58
*
* connections:   non-inverting input
*                | inverting input
*                | | positive power supply
*                | | | negative power supply
*                | | | | output
*                | | | | |  compensation
*                | | | | | / \
.subckt k544ud2  1 2 3 4 5 6 7
*
  c1   11 12 174.6E-15
  dc    5 53 dx
  de   54  5 dx
  dlp  90 91 dx
  dln  92 90 dx
  dp    4  3 dx
  egnd 99  0 poly(2) (3,0) (4,0) 0 .5 .5
  fb    7 99 poly(5) vb vc ve vlp vln 0 127.3E6 -100E6 100E6 100E6 -100E6
  ga    6  0 11 12 1.885E-3
  gcm   0  6 10 99 188.5E-9
  iss   3 10 dc 400.0E-6
  hlim 90  0 vlim 1K
  j1   11  2 10 jx
  j2   12  1 10 jx
  r2    6  9 100.0E3
  rd1   4 11 530.5
  rd2   4 12 530.5
  ro1   8  5 50
  ro2   7 99 25
  rp    3  4 9.000E3
  rss  10 99 500.0E3
  vb    9  0 dc 0
  vc    3 53 dc 2
  ve   54  4 dc 2
  vlim  7  8 dc 0
  vlp  91  0 dc 20
  vln   0 92 dc 20
.model dx D(Is=800.0E-18)
.model jx PJF(Is=15.00E-12 Beta=17.77E-3 Vto=-1)
.ends
* Тестовый узел для снятия траектории перемагничивания
* сердечника гистерезисной модели нелинейной индуктивности.
* Для настройки необходимо ввести параметры:
* A, N и Lm тестируемой индуктивности.
* Модель создал 30 Января 2010 года
* Володин Валентин Яковлевич
* e-mail: valvolodin@narod.ru
* 
.subckt g_loop L I1 I2 B COM H
G1 COM N001 L I1 {1µ/(A*N)}
C1 N001 COM 1µ ic=0
E1 B COM N001 COM 1
V1 I1 I2 0
H1 H COM V1 {N/Lm}
.ends g_loop
*
* MODEL MOC3082
* Моделирует входные и выходные параметры 
* Создана 15 Июня 2010 года
*
.subckt MOC3082 A C T2 T1
D1 A C Led
R3 N015 T2 1
E1 N006 T2 A C 2.366864
D2 N005 T1 Dout
A1 N009 N012 T2 T2 T2 T2 N010 T2 SRFLOP Vhigh=5 Trise=2.5u
E2 N014 T2 N015 T2 table=(-0.0003 0,-0.00025 5,0.00025 5,0.0003 0)
R2 N013 N014 1k
E3 N002 T2 T1 T2 table=(-801 5,-800 0,800 0,801 5)
A2 N001 N008 T2 T2 T2 N011 N009 T2 OR Vhigh=5 Trise=15u
R1 N006 N007 1k
R4 N001 N002 1k
A3 N004 N007 T2 T2 T2 T2 N008 T2 AND Vhigh=5 Trise=1u
E4 N003 T2 T1 T2 table=(-20 0,-12 5,12 5,20 0)
R5 N004 N003 1k
S1 N015 N005 N010 T2 SW1
A4 N011 N013 T2 T2 T2 T2 N012 T2 AND Vhigh=5 Trise=1u
.model Led D(Ron=6.25 Roff=1Meg Vfwd=1.05)
.model SW1 SW(Ron=1 Roff=1G Vt=2.5 Vh=-1)
.model Dout D(Ron=3 Roff=1g Vfwd=1 Vrev=1)
.ends MOC3082
*
* MODEL MOC3052
* Моделирует входные и выходные параметры 
* Создана 15 Июня 2010 года
*
.subckt MOC3052 A C T2 T1
D1 A C Led
R3 N012 T2 1
E1 N004 T2 A C 2.366864
D2 N003 T1 Dout
A1 N006 N009 T2 T2 T2 T2 N007 T2 SRFLOP Vhigh=5 Trise=2.5u
E2 N011 T2 N012 T2 table=(-0.0003 0,-0.00025 5,0.00025 5,0.0003 0)
R2 N010 N011 1k
E3 N002 T2 T1 T2 table=(-601 5,-600 0,600 0,601 5)
A2 N001 N005 T2 T2 T2 N008 N006 T2 OR Vhigh=5 Trise=15u
R1 N004 N005 1k
R4 N001 N002 1k
S1 N012 N003 N007 T2 SW1
A4 N008 N010 T2 T2 T2 T2 N009 T2 AND Vhigh=5 Trise=1u
.model Led D(Ron=6.25 Roff=1Meg Vfwd=1.05)
.model SW1 SW(Ron=1 Roff=1G Vt=2.5 Vh=-1)
.model Dout D(Ron=3 Roff=1g Vfwd=1 Vrev=1)
.ends MOC3052
*
* Model UC2854 PFC controller
* By Valentyn Volodin
* Created 03.11.2012
*  
.subckt UC2854 GD PKLIM CAOUT ISENSE MULTOUT IAC VAOUT VRMS REF ENA VSENSE RSET SS CT VCC GTDRV
A1 Vcc GD GD GD GD GD N002 GD SCHMITT Vhigh=15 Trise=10n Vt=13 Vh=3
A2 ENA GD GD GD GD GD N005 GD SCHMITT Vhigh=15 Trise=10n Vt=2.425 Vh=0.125
A3 N002 GD GD GD N005 N004 N003 GD AND Vhigh=15 Trise=10n
R1 REF N001 0.5
G1 GD N001 N003 GD 1.866m
D1 GD N001 Z7_5
R2 N001 GD 417
S1 GD SS N004 GD SS
I1 Vcc SS 14µ load
V1 Rset GD 7
F1 GD CT V1 -1
D2 N008 N010 Ideal
I2 CT N008 10m load
R3 PKLIM GD 1k
A6 N012 N016 GD GD GD GD N013 GD SRFLOP Vhigh=15 Trise=10n
A7 N006 GD GD GD N017 GD N016 GD OR Vhigh=15 Trise=10n
A8 N015 N003 GD GD GD N012 N010 GD AND Vhigh=15 Td=80n Trise=80n Rout=10
A9 N013 N010 GD GD GD GD N014 GD AND Vhigh=14.5 Trise=35n
A10 CT CAOUT GD GD GD GD N006 GD SCHMITT Vhigh=15 Trise=10n Vt=0 Vh=1m
D3 N009 N014 Ideal
G2 Vcc GD N003 GD 0.9m
E1 N011 GD N009 GD 1
E2 N027 GD N019 GD 1
C2 N019 GD 15.9n ic=0
R6 N025 N018 1meg
R8 N020 N027 290
E3 N028 GD N022 GD 1
C3 N022 GD 15.9n ic=0
R9 N026 N021 1meg
R10 MULTOUT Isense 100k
R11 N023 N028 290
A5 PKLIM GD GD GD GD N017 GD GD SCHMITT Vhigh=15 Td=1u Trise=1u Vt=0 Vh=1m
C1 SS GD 3p ic=0
A11 GD SS N024 N024 N024 N024 GD N024 VARISTOR
V6 N024 GD 7.5 Rser=1k
A4 CT GD GD GD GD N015 GD GD SCHMITT Vhigh=15 Trise=10n Vt=4 Vh=2.3
D5 SS REF Ideal1
E4 N025 GD N024 Vsense 100000
I3 N018 N019 5.5m load
C17 N018 GD 0.02p ic=0
I4 N019 N018 5.5m load
E5 N026 GD MULTOUT Isense 100000
I5 N021 N022 5.5m load
I6 N022 N021 5.5m load
C18 N021 GD 0.02p ic=0
V7 N029 GD 0.5
V8 N031 GD 16
V9 N030 GD 5.8
D6 N029 N022 Ideal
D7 N029 N019 Ideal
D11 N019 N030 Ideal
D12 N022 N031 Ideal
R7 VAOUT GD 8k
D13 N020 VAOUT Ideal
D14 N023 CAOUT Ideal
R13 CAOUT GD 8k
R14 N011 GTDRV 5
D8 N007 N009 Ideal2
R4 Vcc N007 30k
R15 N009 GD 1meg
R5 Vrms GD 5meg
V2 N034 GD 5.7 Rser=1k
D4 Iac N034 Ideal
C4 Iac GD 3p ic=0
E6 ivrms GD Vrms GD table=(0 1m,11 11)
B1 N035 GD V=I(V2)*(V(VAOUT)-1)/V(ivrms)**2
E7 N032 GD N035 GD table=(0 0,100u 103.18m,200u 190.3m,300u 267.58m,400u 342.2m,500u 410.29m,600u 473.09m,700u 534.69m,1.5m 1.027)
R12 N032 N033 1k
D9 N033 N036 Ideal
H1 N036 GD V1 -546.428
G3 GD N037 N033 GD 1m
R16 MULTOUT GD R=7.5*V(MULTOUT)/I(v3)
V3 N037 MULTOUT 0
.model SS SW(Ron=100 Roff=1g Vt=7.5 Vh=-.5)
.model Ideal D(Ron=0 Roff=1g Vfwd=0)
.model Z7_5 D(Ron=0 Roff=1G Vfwd=0 Vrev=7.5)
.model Ideal1 D(Ron=0 Roff=1g Vfwd=0.5)
.model Ideal2 D(Ron=0 Roff=1g Vfwd=1.2)
.ends UC2854
*
*
* Model UCC28070 PFC controller
* By Valentyn Volodin
* Created 11.01.2013
*  
.subckt UCC28070 CDR RDM VAO VSENSE VINAC IMO RSYNTH CSB CSA PKLMT CAOB CAOA VREF GDA VCC GND GDB SS RT DMAX
A2 N018 0 N011 0 0 N018 N029 0 DFLOP Vhigh=6 Trise=20n
A1 N033 0 0 0 0 N011 0 0 BUF Vhigh=6 Trise=20n
A3 N011 0 0 0 N029 CLKA N012 0 OR Vhigh=6 Trise=20n
A4 N018 0 0 0 N011 CLKB N034 0 OR Vhigh=6 Trise=20n
C1 rmA 0 116p ic=0
C2 rmB 0 116p ic=0
F1 0 rmA V2 -1
F2 0 rmB V2 -1
V2 RT 0 3 Rser=1k
D1 rmA N012 dch
D2 rmB N034 dch
A5 N037 N032 0 0 0 N033 N021 0 SRFLOP Vhigh=6 Trise=20n
A6 N030 N031 0 0 0 0 N032 0 OR Vhigh=6 Trise=20n
A7 N019 0 0 0 0 0 N030 0 BUF Vhigh=6 Ref=4 Trise=20n
A8 N019 0 0 0 0 N037 0 0 BUF Vhigh=6 Ref=0.7 Trise=20n
C3 N019 0 116p ic=0
F3 0 N019 V2 -2
D3 N019 N020 dch
R3 N020 N021 100
A9 N036 0 0 0 0 0 N031 0 SCHMITT Vhigh=6 Trise=20n Vt=0.95 Vh=0.25
A10 rmA N014 0 0 0 0 OffA 0 SCHMITT Vhigh=6 Trise=20n Vt=0 Vh=5m
A11 rmB N014 0 0 0 0 OffB 0 SCHMITT Vhigh=6 Trise=20n Vt=0 Vh=5m
V1 DMAX 0 3 Rser=1k
B1 N015 0 V=0.7+1.65*I(V2)*(V(DMAX)/I(V1)+V(RT)/I(V2))/V(RT)
R5 N014 N015 10k
D4 N014 N041 Ideal
V3 N041 0 4
R7 N044 N045 10k
D5 N044 N043 Ideal
D6 N046 N044 Ideal
V4 N017 0 3 Rser=1k
I4 N045 cdm 10µ load
I5 cdm N045 10µ load
V5 mp 0 3
G1 0 N019 cdm mp 10µ
H1 mp N043 V4 12.5k
H2 N046 mp V4 12.5k
G2 0 rmA cdm mp 5µ
G3 0 rmB cdm mp 5µ
R2 N036 0 10k
S1 mp cdm 1 0 isw
S2 cdm CDR 2 0 isw
S3 RDM N036 1 0 isw
S4 RDM N017 2 0 isw
A13 N044 cdm 0 0 0 0 N045 0 SCHMITT Vhigh=6 Trise=20n Vt=0 Vh=5m
A12 CDR 0 0 0 0 2 1 0 SCHMITT Vhigh=6 Trise=20n Vt=4.9 Vh=0.1
R6 CSB 0 1g
E1 N068 0 CSB 0 1
D7 N074 N075 Ideal
D8 0 N075 Ideal
C5 N075 0 100p ic=0
R9 N068 N074 50
B2 N079 0 V=if(V(VSENSE)-V(VINAC)+0.5,V(VSENSE)-V(VINAC),0)
D9 N078 RSYNTH Ideal
A14 RSYNTH 0 0 0 0 4 3 0 SCHMITT Vhigh=6 Trise=20n Vt=4.9 Vh=0.1
S5 N075 N069 4 0 isw
F4 N075 0 V10 1
V10 N079 N078 0
S6 N068 N069 3 0 isw
E2 OutB 0 N069 0 1
R11 OutB 0 10k
R12 CSA 0 1g
E3 N048 0 CSA 0 1
D10 N059 N060 Ideal
D11 0 N060 Ideal
C6 N060 0 100p ic=0
R13 N048 N059 50
S7 N060 N049 4 0 isw
F5 N060 0 V10 1
S8 N048 N049 3 0 isw
E4 OutA 0 N049 0 1
R14 OutA 0 10k
A15 CSA PKLMT 0 0 0 0 IpeakA 0 SCHMITT Vhigh=6 Trise=20n Vt=0 Vh=5m
A16 CSB PKLMT 0 0 0 0 IpeakB 0 SCHMITT Vhigh=6 Trise=20n Vt=0 Vh=5m
R15 PKLMT 0 1g
E5 N009 0 VINAC 0 1
D12 N008 N007 Ideal
D13 0 N022 Ideal
C7 N007 0 0.1µ ic=0
R17 N009 N008 5
S9 N004 N003 5 0 isw
S10 0 N006 6 0 isw
E6 N005 0 N006 0 1
R18 kvff 0 10k
R19 N005 N004 5
C8 N003 0 0.1µ ic=0
E7 N002 0 N003 0 1
A17 N009 0 0 0 0 N026 0 0 BUF Vhigh=6 Ref=0.7 Trise=20n
A18 N025 0 0 0 0 N028 N024 0 BUF Vhigh=6 Trise=20n
R20 N026 N025 1k
C9 N025 0 0.1µ ic=0
C10 N024 N023 0.1µ ic=0
C11 N028 N039 0.1µ ic=0
D14 0 N038 Ideal
R21 N022 0 1k
R22 N038 0 1k
A19 N022 0 0 0 0 0 5 0 BUF Vhigh=6 Trise=20n
A20 N038 0 0 0 0 0 6 0 BUF Vhigh=6 Trise=20n
A21 N002 0 0 0 0 0 N001 0 BUF Vhigh=3.857 Ref=2.6 Trise=20n
A22 N002 0 0 0 0 0 N010 0 BUF Vhigh=2.922 Ref=2.25 Trise=20n
A23 N002 0 0 0 0 0 N013 0 BUF Vhigh=2.199 Ref=1.95 Trise=20n
A24 N002 0 0 0 0 0 N016 0 BUF Vhigh=1.604 Ref=1.65 Trise=20n
A25 N002 0 0 0 0 0 N027 0 BUF Vhigh=1.156 Ref=1.4 Trise=20n
A26 N002 0 0 0 0 0 N035 0 BUF Vhigh=0.839 Ref=1.2 Trise=20n
A27 N002 0 0 0 0 0 N040 0 BUF Vhigh=0.6 Ref=1 Trise=20n
D15 N001 kvff Ideal
D16 N010 kvff Ideal
D17 N013 kvff Ideal
D18 N016 kvff Ideal
D19 N027 kvff Ideal
D20 N035 kvff Ideal
D21 N040 kvff Ideal
D22 N042 kvff Ideal
V6 N042 0 0.398
R23 N007 N006 1
R24 N023 N022 5
R25 N039 N038 5
I1 VINAC 0 250n load
A28 VCC 0 0 0 0 UVLO 0 0 SCHMITT Vhigh=6 Trise=20n Vt=9.7 Vh=0.5
A29 VSENSE 0 0 0 0 N054 0 0 SCHMITT Vhigh=6 Trise=20n Vt=0.675 Vh=0.075
A30 VAO 0 0 0 0 ZeroP 0 0 SCHMITT Vhigh=6 Trise=20n Vt=0.825 Vh=0.075
A31 SS 0 0 0 0 ExtD 0 0 SCHMITT Vhigh=6 Trise=20n Vt=0.675 Vh=0.075
A33 UVLO 0 0 0 N054 0 N050 0 OR Vhigh=6 Trise=20n
A34 ZeroP N050 0 0 0 Restart 0 0 SRFLOP Vhigh=6 Trise=20n
A35 Restart ovp ZeroP ExtD 0 0 Fault 0 OR Vhigh=6 Trise=20n
I2 VSENSE 0 250n load
G4 0 VAO N077 VSENSE table=(-0.43 -30u,0.43 30u)
D23 0 VAO z5
A36 VSENSE 0 0 0 0 N073 0 0 SCHMITT Vhigh=6 Trise=20n Vt=2.85 Vh=50m
A38 N073 0 0 0 N076 0 N066 0 AND Vhigh=6 Trise=20n
S11 N070 VAO N066 0 isw
I3 VREF N070 100µ load
S12 N071 VAO Restart 0 isw
I6 N071 0 10µ load
R1 N077 mp 10k
A39 SS 0 0 0 0 0 N077 0 VARISTOR
D24 0 VCC z25
I7 VREF SS 10µ load
S13 0 SS Restart 0 isw
A40 SS VSENSE 0 0 0 0 N062 0 SCHMITT Vhigh=6 Trise=20n Vt=0 Vh=5m
A41 Restart 0 0 0 N062 N061 0 0 OR Vhigh=6 Trise=20n
A42 N061 0 0 0 ExtD 0 N055 0 OR Vhigh=6 Trise=20n
S14 SS N051 N055 0 isw
I8 VREF N051 1m load
C4 0 VSENSE 0.1p ic=0
C12 0 N070 0.1p ic=0
C13 0 N071 0.1p ic=0
C14 0 N051 0.1p ic=0
C15 0 VINAC 0.1p ic=0
B3 0 IMO I=(V(VINAC)*V(VAO))*17u/V(kvff)
C16 0 IMO 0.1p ic=0
G5 0 CAOA IMO OutA table=(-0.5 -50u,0.5 50u)
G6 0 CAOB IMO OutB table=(-0.5 -50u,0.5 50u)
S15 0 CAOA Fault 0 isw
S16 0 CAOB Fault 0 isw
C17 0 CAOA 0.1p ic=0
C18 0 CAOB 0.1p
D25 0 CAOA z6
D26 0 CAOB z6
A43 rmA CAOA 0 0 0 0 N056 0 SCHMITT Vhigh=6 Trise=20n Vt=0 Vh=5m
A44 rmB CAOB 0 0 0 0 N064 0 SCHMITT Vhigh=6 Trise=20n Vt=0 Vh=5m
A45 N056 OffA 0 IpeakA Fault 0 N057 0 OR Vhigh=6 Trise=20n
A46 Fault N064 OffB 0 IpeakB 0 N065 0 OR Vhigh=6 Trise=20n
A47 CLKB N065 0 0 0 0 N063 0 SRFLOP Vhigh=14.5 Ref=3 Trise=20n
A48 CLKA N057 0 0 0 0 N052 0 SRFLOP Vhigh=14.5 Ref=3 Trise=20n
D27 N053 N052 Ideal
R4 VCC N053 30k
E8 N058 0 N053 0 1
D28 N058 GDA Don
D29 GDA N058 Doff
D30 N067 N063 Ideal
R8 VCC N067 30k
E9 N072 0 N067 0 1
D31 N072 GDB Don
D32 GDB N072 Doff
C19 0 GDA 0.1p ic=0
C20 0 GDB 0.1p ic=0
I9 VCC 0 20m load
C21 0 VCC 0.1p ic=0
A49 VCC 0 0 0 0 0 N047 0 BUF Vhigh=6 Ref=8 Trise=20n
R10 N047 VREF 10m
A32 VSENSE 0 0 0 0 0 ovp 0 SCHMITT Vhigh=6 Trise=20n Vt=3.13 Vh=0.05
A37 SS 0 0 0 0 0 N076 0 SCHMITT Vhigh=6 Trise=20n Vt=3.95 Vh=0.05
.model dch D(Ron=100 Roff=1g Vfwd=0.65)
.model Ideal D(Ron=0 Roff=1g Vfwd=0)
.model isw SW(Ron=1m Roff=1g Vt=3 Vh=0.5)
.model z5 D(Ron=10 Roff=1g Vfwd=0 Vrev=5)
.model z25 D(Ron=10 Roff=1g Vfwd=0 Vrev=25)
.model z6 D(Ron=10 Roff=1g Vfwd=0 Vrev=6)
.model Don D(Ron=8.5 Roff=1Meg Vfwd=1.5 Ilimit=0.75)
.model Doff D(Ron=4.7 Roff=1Meg Vfwd=0.2 Ilimit=0.75)
.ends UCC28070
*
****************************************************************
* High Voltage Dual Interleaved Current Mode Controller LM5032
* Model created by Valentyn Volodin
* Created 12.02.2014
****************************************************************  
.subckt LM5032 VIN COMP1 CS1 SS1 UVLO VCC OUT1 GND1 GND2 OUT2 RES SS2 CS2 COMP2 DCL RT/SYNC
R1 N048 N049 2566.666
D1 N049 N048 Ideal
I1 N048 N049 19.5m
C1 N048 N049 3p
R2 N056 GND1 154k
E1 N048 GND1 VIN GND1 table=(0 0,3.167 0,3.6 1.175,7.88 4,11.42 7.7)
F1 VIN GND1 V1 1
V1 N049 N056 0
D2 N056 N057 Ideal
C2 N056 N057 3p
R3 N057 GND1 17.1k
S1 N057 N050 N052 GND1 SVCC
R4 N038 VCC 2k
A3 Vcc_UVT GND1 GND1 GND1 N058 GND1 Driver_off GND1 OR Vhigh=5 Trise=50n
G1 GND1 UVLO N052 GND1 4µ
R5 VCC N050 5.9
A2 N050 GND1 GND1 GND1 GND1 Vcc_UVT GND1 GND1 SCHMITT Vhigh=5 Trise=50n Vt=6.9 Vh=0.7
A1 UVLO GND1 GND1 GND1 GND1 N058 N052 GND1 BUF Vhigh=5 Trise=50n Ref=1.25
D3 GND1 UVLO Z5
C3 UVLO GND1 3p ic=0
A4 N016 GND1 N001 GND1 GND1 N016 N020 GND1 DFLOP Vhigh=5 Trise=10n
A5 N001 GND1 GND1 GND1 N020 N008 N003 GND1 OR Vhigh=5 Trise=10n
A6 N016 GND1 GND1 GND1 N001 N031 N025 GND1 OR Vhigh=5 Trise=10n
C4 N005 GND1 112p
C5 N027 GND1 112p
F2 GND1 N005 V3 -1
F3 GND1 N027 V3 -1
D4 N004 N003 Ideal
D5 N026 N025 Ideal
V3 N037 N038 0
A7 N030 N023 GND1 GND1 GND1 GND1 N001 GND1 SRFLOP Vhigh=5 Trise=10n
A8 N021 N022 GND1 GND1 GND1 GND1 N023 GND1 OR Vhigh=5 Trise=10n
A9 N018 GND1 GND1 GND1 GND1 GND1 N021 GND1 BUF Vhigh=5 Ref=2.1 Trise=10n
A10 N018 GND1 GND1 GND1 GND1 N030 GND1 GND1 BUF Vhigh=5 Ref=0.2 Trise=10n
C6 N018 GND1 112p
F4 GND1 N018 V3 -2
A11 RT/SYNC GND1 GND1 GND1 GND1 GND1 N022 GND1 BUF Vhigh=5 Ref=3.3 Trise=10n
R9 N004 N005 100
R10 N026 N027 100
D6 N018 N019 Ideal
R11 N019 N001 130
F5 GND1 DCL V3 -1
A12 N005 GND1 GND1 GND1 GND1 N011 GND1 GND1 BUF Vhigh=5 Ref=0.4 Trise=10n
A13 N027 GND1 GND1 GND1 GND1 N033 GND1 GND1 BUF Vhigh=5 Ref=0.4 Trise=10n
A14 N011 GND1 GND1 GND1 N008 ICLK1 CLK1 GND1 OR Vhigh=5 Trise=10n
A15 N033 GND1 GND1 GND1 N031 ICLK2 CLK2 GND1 OR Vhigh=5 Trise=10n
E2 RAMP1 GND1 N005 GND1 table=(0.4 0,2 2)
E3 RAMP2 GND1 N027 GND1 table=(0.4 0,2 2)
G2 GND1 SLOPE1 RAMP1 GND1 22.5µ
G3 GND1 SLOPE2 RAMP2 GND1 22.5µ
A16 DCL RAMP1 GND1 GND1 GND1 GND1 UserMaxDC1 GND1 SCHMITT Vhigh=5 Trise=10n Vt=0 Vh=1m
A17 DCL RAMP2 GND1 GND1 GND1 GND1 UserMaxDC2 GND1 SCHMITT Vhigh=5 Trise=10n Vt=0 Vh=1m
E4 N039 GND1 UVLO GND1 table=(1.25 2,1.67 1.75,4.06 0.42,4.17 0.39,4.27 0.35,4.38 0.32,4.48 0.28,4.58 0.27)
A18 N039 RAMP1 GND1 GND1 GND1 GND1 MaxDC1 GND1 SCHMITT Vhigh=5 Trise=10n Vt=0 Vh=1m
A19 N039 RAMP2 GND1 GND1 GND1 GND1 MaxDC2 GND1 SCHMITT Vhigh=5 Trise=10n Vt=0 Vh=1m
D7 GND1 N038 Z2
R15 N036 N037 738
G5 GND1 SS1 DCon GND1 9.8µ
I2 GND1 SS1 1µ
D14 GND1 SS1 Z5
A28 SS1 GND1 GND1 GND1 GND1 GND1 N040 GND1 BUF Vhigh=5 Ref=1.5 Trise=10n
A29 N042 N046 GND1 GND1 GND1 N043 N044 GND1 SRFLOP Vhigh=5 Trise=10n
A30 N053 N060 GND1 GND1 GND1 N045 N055 GND1 SRFLOP Vhigh=5 Trise=10n
A31 N043 GND1 GND1 GND1 N045 IT12 T12 GND1 AND Vhigh=5 Trise=10n
A32 GND1 N044 GND1 GND1 N045 IT13 T13 GND1 AND Vhigh=5 Trise=10n
A33 N044 GND1 GND1 GND1 N055 IT10 T10 GND1 AND Vhigh=5 Trise=10n
A34 N043 GND1 GND1 GND1 N055 IT11 T11 GND1 AND Vhigh=5 Trise=10n
A35 Driver_off N041 GND1 GND1 GND1 GND1 N042 GND1 OR Vhigh=5 Trise=10n
A36 Driver_off GND1 N054 GND1 GND1 GND1 N053 GND1 OR Vhigh=5 Trise=10n
A37 Restart_Latch GND1 T10 GND1 GND1 GND1 N046 GND1 AND Vhigh=5 Trise=10n
A38 T11 N051 GND1 GND1 GND1 GND1 N060 GND1 AND Vhigh=5 Trise=10n
A39 SS1 GND1 GND1 GND1 GND1 N051 GND1 GND1 BUF Vhigh=5 Ref=0.2 Trise=10n
A40 T12 N040 GND1 GND1 GND1 GND1 N041 GND1 AND Vhigh=5 Trise=10n
A41 GND1 GND1 GND1 T13 IRestart_Latch GND1 N054 GND1 AND Vhigh=5 Trise=10n
D15 SS1 N059 Ideal
A42 T13 GND1 GND1 GND1 T10 GND1 N047 GND1 OR Vhigh=5 Trise=10n
R17 N059 IT11 50
G6 GND1 SS2 DCon GND1 9.8µ
I3 GND1 SS2 1µ
D16 GND1 SS2 Z5
A23 SS2 GND1 GND1 GND1 GND1 GND1 N061 GND1 BUF Vhigh=5 Ref=1.5 Trise=10n
A24 N063 N067 GND1 GND1 GND1 N064 N065 GND1 SRFLOP Vhigh=5 Trise=10n
A44 N071 N078 GND1 GND1 GND1 N066 N074 GND1 SRFLOP Vhigh=5 Trise=10n
A45 N064 GND1 GND1 GND1 N066 IT12 T22 GND1 AND Vhigh=5 Trise=10n
A46 GND1 N065 GND1 GND1 N066 IT23 T23 GND1 AND Vhigh=5 Trise=10n
A47 N065 GND1 GND1 GND1 N074 IT10 T20 GND1 AND Vhigh=5 Trise=10n
A48 N064 GND1 GND1 GND1 N074 IT21 T21 GND1 AND Vhigh=5 Trise=10n
A49 Driver_off N062 GND1 GND1 GND1 GND1 N063 GND1 OR Vhigh=5 Trise=10n
A50 Driver_off GND1 N072 GND1 GND1 GND1 N071 GND1 OR Vhigh=5 Trise=10n
A51 Restart_Latch GND1 T20 GND1 GND1 GND1 N067 GND1 AND Vhigh=5 Trise=10n
A52 T21 N070 GND1 GND1 GND1 GND1 N078 GND1 AND Vhigh=5 Trise=10n
A53 SS2 GND1 GND1 GND1 GND1 N070 GND1 GND1 BUF Vhigh=5 Ref=0.2 Trise=10n
A54 T22 N061 GND1 GND1 GND1 GND1 N062 GND1 AND Vhigh=5 Trise=10n
A55 GND1 GND1 GND1 T23 IRestart_Latch GND1 N072 GND1 AND Vhigh=5 Trise=10n
D17 SS2 N077 Ideal
A56 T23 GND1 GND1 GND1 T20 GND1 N068 GND1 OR Vhigh=5 Trise=10n
R18 N077 IT21 50
A57 N047 GND1 GND1 GND1 N068 GND1 DCon GND1 AND Vhigh=5 Trise=10n
E5 +5V GND1 N038 GND1 2.5
D8 GND1 RES Z5
C7 RES GND1 3p ic=0
A20 N029 Restart GND1 GND1 GND1 Restart_Latch IRestart_Latch GND1 SRFLOP Vhigh=5 Trise=10n
A21 DC1 GND1 DC2 GND1 Driver_off GND1 N029 GND1 OR Vhigh=5 Trise=10n
A22 GND1 GND1 Driver_off GND1 Restart_Latch N024 GND1 GND1 OR Vhigh=5 Trise=10n
D9 RES N017 Ideal
R6 N017 N024 50
A25 RES GND1 GND1 GND1 GND1 GND1 Restart GND1 SCHMITT Vhigh=5 Vt=2.45 Vh=0.1 Trise=10n
G4 GND1 RES N002 GND1 4µ
G7 RES GND1 N015 GND1 2µ
A26 GND1 N006 GND1 GND1 ICLK1 GND1 N007 GND1 AND Vhigh=5 Trise=10n
A27 N010 GND1 GND1 ICLK1 GND1 GND1 N013 GND1 AND Vhigh=5 Trise=10n
A43 ILim1 CLK1 GND1 GND1 GND1 N010 N006 GND1 SRFLOP Vhigh=5 Trise=10n
A59 GND1 N028 GND1 GND1 ICLK2 GND1 N009 GND1 AND Vhigh=5 Trise=10n
A60 N032 GND1 GND1 ICLK2 GND1 GND1 N034 GND1 AND Vhigh=5 Trise=10n
A61 ILim2 CLK2 GND1 GND1 GND1 N032 N028 GND1 SRFLOP Vhigh=5 Trise=10n
A63 GND1 GND1 N007 GND1 N009 N012 N002 GND1 OR Vhigh=5 Trise=10n
A64 N012 N014 GND1 GND1 GND1 GND1 N015 GND1 AND Vhigh=5 Trise=10n
A65 N013 GND1 GND1 GND1 N034 GND1 N014 GND1 OR Vhigh=5 Trise=10n
R7 +5V COMP1 5k
A58 SS1 GND1 GND1 GND1 GND1 GND1 COMP1 GND1 VARISTOR rclamp=5
E6 N075 GND1 COMP1 GND1 table=(1.5 0,5 1.166)
A62 SLOPE1 N075 GND1 GND1 GND1 GND1 N073 GND1 SCHMITT Vhigh=5 Trise=10n Vt=0 Vh=1m
R16 CS1 SLOPE1 2k
R19 CS1 GND1 42k
A66 SLOPE1 GND1 GND1 GND1 GND1 GND1 ILim1 GND1 BUF Vhigh=5 Ref=0.5 Trise=10n
A67 N073 GND1 GND1 GND1 ILim1 GND1 N076 GND1 OR Vhigh=5 Trise=10n
A68 N076 CLK1 GND1 GND1 GND1 N079 GND1 GND1 SRFLOP Vhigh=5 Trise=10n
A69 N079 MaxDC1 UserMaxDC1 ICLK1 DCon GND1 DC1 GND1 AND Vhigh=5 Trise=10n
A70 Driver_off GND1 GND1 GND1 Restart N069 GND1 GND1 OR Vhigh=5 Trise=10n
A71 N069 GND1 GND1 GND1 DC1 IOUT1 N080 GND1 AND Vhigh=5 Trise=10n
S2 OUT1 VCC N080 GND1 TSW
S3 GND1 OUT1 N080 GND1 BSW
R8 +5V COMP2 5k
A72 SS2 GND2 GND2 GND2 GND2 GND2 COMP2 GND2 VARISTOR rclamp=5
E7 N086 GND2 COMP2 GND2 table=(1.5 0,5 1.166)
A73 SLOPE2 N086 GND2 GND2 GND2 GND2 N085 GND2 SCHMITT Vhigh=5 Trise=10n Vt=0 Vh=1m
R12 CS2 SLOPE2 2k
R20 CS2 GND2 42k
A74 SLOPE2 GND2 GND2 GND2 GND2 GND2 ILim2 GND2 BUF Vhigh=5 Ref=0.5 Trise=10n
A75 N085 GND2 GND2 GND2 ILim2 GND2 N087 GND2 OR Vhigh=5 Trise=10n
A76 N087 CLK2 GND2 GND2 GND2 N088 GND2 GND2 SRFLOP Vhigh=5 Trise=10n
A77 N088 MaxDC2 UserMaxDC2 ICLK2 DCon GND2 DC2 GND2 AND Vhigh=5 Trise=10n
A78 Driver_off GND2 GND2 GND2 Restart N084 GND2 GND2 OR Vhigh=5 Trise=10n
A79 N084 GND2 GND2 GND2 DC2 IOUT2 N089 GND2 AND Vhigh=5 Trise=10n
S4 OUT2 VCC N089 GND2 TSW
S5 GND2 OUT2 N089 GND2 BSW
A80 Vcc_UVT GND1 GND1 GND1 N083 N081 GND1 GND1 OR Vhigh=5 Trise=10n
A81 Vcc_UVT GND2 GND2 GND2 N092 N090 GND2 GND2 OR Vhigh=5 Trise=10n
D10 N082 N081 Ideal
D11 N091 N090 Ideal
R21 N082 CS1 30
R22 N091 CS2 30
A82 IOUT1 GND1 GND1 GND1 GND1 GND1 N083 GND1 BUF Vhigh=5 Trise=10n Td=50n
A83 IOUT2 GND2 GND2 GND2 GND2 GND2 N092 GND2 BUF Vhigh=5 Trise=10n Td=50n
C18 SS1 GND1 3p ic=0
C19 SS2 GND1 3p ic=0
R13 N035 N036 82
C8 N036 GND1 0.2µ
D12 N035 RT/SYNC Ideal
.model Ideal D(Ron=0 Roff=1g Vfwd=0)
.model SVCC SW(Ron=0.1 Roff=1g Vt=2.5 Vh=-0.5 Vser=0)
.model Z5 D(Ron=100 Roff=1g Vfwd=0 Vrev=5)
.model Z2 D(Ron=0 Roff=1g Vfwd=0 Vrev=2)
.model Z2_5 D(Ron=0 Roff=1g Vfwd=0 Vrev=2.5)
.model TSW SW(Ron=4 Roff=175k Vt=2.5 Vh=-1 Vser=0 Ilimit=1.5)
.model BSW SW(Ron=175k Roff=3 Vt=2.5 Vh=-1 Vser=0 Ilimit=2.5)
.ends LM5032
*
****************************************************************
* Green-Mode FlyBack Controller UCC28610
* Model created by Valentyn Volodin
* Created 17.04.2014
****************************************************************
.subckt UCC28610 FB ZCD CL MOT VGG DRV GN VDD  
S1 N019 DRV N013 GN SG
S2 DRV N009 N010 GN SG
S3 GN N007 N004 GN SG
S4 N006 VDD N005 GN SG
D1 DRV VGG DG
D2 GN DRV DG
D3 GN N007 Z2
D4 N007 VGG Z14
D5 DRV VDD DG
A3 N011 GN N012 GN Fault N004 GN GN OR Vhigh=5 Trise=10n
A4 N004 GN GN GN GN N005 GN GN BUF
R1 VGG N009 6
A5 N020 GN Fault GN N022 GN N017 GN OR Vhigh=5 Trise=10n
A6 N004 GN GN N015 N016 GN N014 GN AND Vhigh=5 Trise=10n
D6 VDD N003 DGG
R2 N003 GN 33k
F1 N003 GN V3 1
E1 N001 GN N003 GN table=(0 0,13 13)
D7 N002 VGG Ideal
V3 N001 N002 0
D8 FB N027 DG
R3 N027 GN 100
E2 N029 GN N027 GN table=(0 3,16.5m 3,21m 1)
R4 N029 N030 1k
V2 N031 CL 0
D9 N030 N031 Ideal
A8 N023 N025 GN GN GN GN N024 GN SCHMITT Vhigh=5 Trise=10n Vt=0 Vh=1m
R6 N006 DRV 4
V1 N019 GN 0
H1 N023 GN V1 1
H2 N025 GN V2 33.2k
A9 N021 GN GN N024 GN GN N022 GN AND Vhigh=5 Trise=10n
A10 VDD GN GN GN GN FLR GN GN SCHMITT Vhigh=5 Trise=10n Vt=8 Vh=2
V4 5 GN 5
A2 N014 N017 GN GN GN N018 Vgate GN SRFLOP Vhigh=5 Trise=10n
A15 5 0 Vgate 0 N026 N016 N028 0 DFLOP Vhigh=5 Trise=10n
G2 N028 N026 N027 0 table=(0 332.5u,16.5m 75u)
D13 N026 N028 Ideal
C4 N026 0 1n
A11 Vgate GN GN GN GN GN N021 GN BUF Vhigh=5 Trise=10n Td=220n
A12 N018 GN GN GN GN GN N034 GN BUF Vhigh=5 Trise=10n Td=1u
A13 ZCD GN GN GN GN N015 GN GN SCHMITT Vhigh=5 Trise=10n Vt=30m Vh=10m
D10 GN ZCD DZCD
A14 ZCD GN GN GN GN GN N032 GN SCHMITT Vhigh=5 Trise=10n Vt=4.9 Vh=0.1
A17 N027 GN GN GN GN GN N012 GN SCHMITT Vhigh=5 Trise=10n Vt=26.75m Vh=1.25m
A16 N032 GN N034 GN FLR GN N033 GN DFLOP Vhigh=5 Trise=10n
V5 MOT N037 3.3
R5 N037 GN 5k
A18 MOT GN GN GN GN N035 GN GN BUF Vhigh=5 Trise=10n Ref=1
G1 GN N036 GN N037 table=(0 0,0.13 203u,0.135 41u,3.3 1m)
C1 N036 GN 100p
A19 N036 GN GN GN GN GN N020 GN BUF Vhigh=5 Trise=10n
S5 GN N038 N018 GN SG
R7 N036 N038 20
S6 GN VDD N004 GN SVDD
A1 N008 GN Vgate GN GN GN N013 GN AND Vhigh=5 Trise=10n
A7 VDD GN GN GN GN N011 N008 GN SCHMITT Vhigh=5 Trise=10n Vt=9 Vh=1
A20 N008 GN N018 GN GN GN N010 GN AND Vhigh=5 Trise=10n
A21 N033 GN GN GN N035 GN Fault GN OR Vhigh=5 Trise=10n
.model SG SW(Ron=90m Roff=8Meg Vt=2 Vh=-0.5)
.model DG D(Ron=2 Roff=10Meg Vfwd=.7)
.model Z14 D(Ron=50 Roff=7Meg Vfwd=.7 Vrev=14)
.model Z2 D(Ron=50 Roff=1Meg Vfwd=.7 Vrev=2)
.model Ideal D(Ron=2 Roff=10Meg Vfwd=0)
.model DGG D(Ron=2 Roff=10Meg Vfwd=2)
.model DZCD D(Ron=50 Roff=10Meg Vfwd=0.16)
.model SVDD SW(Ron=2k Roff=10Meg Ilimit=2.67m Vt=2 Vh=-0.5)
.ends UCC28610
*
****************************************************************
* Phase Shift Resonant Controller UC3875
* Model created by Valentyn Volodin
* Created 18.03.2014
****************************************************************  
.subckt UC3875 VREF EAOUT EA- EA+ CS+ SOFTSTART DELAYSET_CD OUTD OUTC VC VIN PGND OUTB OUTA DELAYSET_AB FREQSET CLOCKSYNC SLOPE RAMP AGND
A1 CLOCKSYNC N004 AGND AGND AGND N005 N002 AGND SRFLOP Vhigh=5 Ref=3.8 Trise=10n
A2 FREQSET AGND AGND AGND AGND AGND N004 AGND BUF Vlow=3.3 Vhigh=4.3 Ref=4.15 Trise=10n
D1 N001 FREQSET Ideal
R1 N001 N002 75
D2 N008 CLOCKSYNC Real
R2 CLOCKSYNC AGND 3.9k
A3 FREQSET AGND AGND AGND AGND N008 AGND AGND SCHMITT Vlow=4 Vhigh=5 Vt=3.7 Vh=0.4 Trise=10n
D3 SLOPE N011 Real
V1 N011 AGND 0
F1 AGND RAMP V1 1
D4 AGND RAMP Z5
A4 N006 AGND N002 SHUTDOWN AGND N006 N007 AGND DFLOP Vhigh=5 td=10n Trise=10n
A5 EAOUT N027 AGND AGND AGND AGND N022 AGND SCHMITT Vhigh=5 Vt=0 Vh=1m Trise=10n
A6 N032 EAOUT AGND AGND AGND AGND N035 AGND SCHMITT Vhigh=5 Vt=0 Vh=1m Trise=10n
V2 N027 RAMP 1.3
A7 VIN AGND AGND AGND AGND AGND UVLO AGND SCHMITT Vhigh=5 Vt=10 Vh=0.75 Trise=50n
R3 VIN AGND 53k
G1 VIN AGND UVLO AGND 6m
G2 VC AGND UVLO AGND 3m
G3 AGND N003 UVLO AGND 10m
D6 AGND N003 Z5
V3 N003 VREF 0
F2 VIN AGND V3 1
V4 N032 AGND 1
A8 N022 AGND AGND AGND N002 N029 AGND AGND OR Vhigh=5 Trise=10n
A9 N035 AGND AGND AGND N005 N033 AGND AGND OR Vhigh=5 Trise=10n
A10 N029 N033 AGND AGND AGND N034 AGND AGND SRFLOP Vhigh=5 Trise=10n
A11 N007 AGND AGND AGND N034 N031 N030 AGND XOR Vhigh=5 Trise=20n
E1 N036 AGND SOFTSTART AGND 1
D7 EAOUT N036 IDEAL
R4 EAOUT N047 1k
C1 N046 AGND 1.59n ic=0
E2 N047 AGND N046 AGND 1
I1 N045 N046 15.9m load
I2 N046 N045 15.9m load
E3 N044 AGND EA+ EA- 10000
R5 N044 N045 100k
R6 EA- AGND 5meg
R7 EA+ AGND 5meg
C2 N045 AGND 0.1p ic=0
D8 AGND N046 Z5
A12 N056 AGND AGND AGND N063 AGND N062 AGND OR Vhigh=5 Trise=10n
A13 N065 AGND N066 AGND N058 AGND N064 AGND AND Vhigh=5 Trise=10n
A14 N064 N062 AGND AGND AGND SHUTDOWN N061 AGND SRFLOP Vhigh=5 Trise=10n
A15 CS+ AGND AGND AGND AGND N065 N063 AGND BUF Vhigh=5 Ref=2.5 Trise=10n
A16 SOFTSTART AGND AGND AGND AGND N066 AGND AGND BUF Vhigh=5 Ref=0.2 Trise=10n
A17 SOFTSTART AGND AGND AGND AGND AGND N059 AGND BUF Vhigh=5 Ref=4.3 Trise=10n
A18 N059 AGND AGND AGND SHUTDOWN AGND N060 AGND AND Vhigh=5 Trise=10n
A19 N056 AGND AGND AGND N060 AGND N057 AGND OR Vhigh=5 Trise=10n
D9 AGND SOFTSTART Z5
I3 AGND SOFTSTART 9µ
G4 SOFTSTART AGND N058 AGND 46µ
A21 VREF AGND AGND AGND AGND AGND N055 AGND BUF Vhigh=5 Ref=4.75 Trise=10n
A22 N055 AGND UVLO AGND AGND N056 AGND AGND AND Vhigh=5 Trise=10n
V5 DELAYSET_AB AGND 2.5 Rser=275
C3 N015 AGND 15p ic=0
D10 N013 N014 Ideal
A23 N012 AGND AGND AGND AGND AGND N013 AGND BUF Vhigh=5 Trise=10n
R8 N014 N015 150
F3 N015 AGND V5 -1
D11 AGND N015 Ideal
A24 N015 AGND AGND AGND AGND AGND N016 AGND BUF Vhigh=5 Ref=1 Trise=10n
A25 N016 N012 SHUTDOWN AGND AGND N010 N017 AGND OR Vhigh=5 Trise=10n
C4 N025 AGND 15p ic=0
D12 N023 N024 Ideal
A26 N019 AGND AGND AGND AGND AGND N023 AGND BUF Vhigh=5 Trise=10n
R9 N024 N025 150
F4 N025 AGND V5 -1
D13 AGND N025 Ideal
A27 N025 AGND AGND AGND AGND AGND N026 AGND BUF Vhigh=5 Ref=1 Trise=10n
A28 N026 N019 SHUTDOWN AGND AGND N021 N028 AGND OR Vhigh=5 Trise=10n
C5 N039 AGND 15p ic=0
D14 N037 N038 Ideal
A29 N030 AGND AGND AGND AGND AGND N037 AGND BUF Vhigh=5 Trise=10n
R10 N038 N039 150
F5 N039 AGND V6 -1
D15 AGND N039 Ideal
A30 N039 AGND AGND AGND AGND AGND N040 AGND BUF Vhigh=5 Ref=1 Trise=10n
A31 N040 N030 SHUTDOWN AGND AGND N043 N042 AGND OR Vhigh=5 Trise=10n
C6 N050 AGND 15p ic=0
D16 N048 N049 Ideal
A32 N031 AGND AGND AGND AGND AGND N048 AGND BUF Vhigh=5 Trise=10n
R11 N049 N050 150
F6 N050 AGND V6 -1
D17 AGND N050 Ideal
A33 N050 AGND AGND AGND AGND AGND N051 AGND BUF Vhigh=5 Ref=1 Trise=10n
A34 N051 N031 SHUTDOWN AGND AGND N053 N052 AGND OR Vhigh=5 Trise=10n
V6 DELAYSET_CD AGND 2.5 Rser=275
S1 OUTA N009 N010 AGND HOUT
S2 PGND P001 N017 AGND LOUT
S3 OUTB N020 N021 AGND HOUT
S4 PGND P002 N028 AGND LOUT
D18 VC N009 IDEAL
D19 VC N020 IDEAL
D20 OUTA P001 IDEAL
D21 OUTB P002 IDEAL
S5 OUTC N041 N043 AGND HOUT
S6 PGND P003 N042 AGND LOUT
S7 OUTD N054 N053 AGND HOUT
S8 PGND P004 N052 AGND LOUT
D22 VC N041 IDEAL
D23 VC N054 IDEAL
D24 OUTC P003 IDEAL
D25 OUTD P004 IDEAL
A35 N007 AGND AGND AGND AGND AGND N012 AGND BUF Vhigh=5 Trise=20n
A36 N006 AGND AGND AGND AGND AGND N019 AGND BUF Vhigh=5 Trise=20n
C7 SOFTSTART AGND 0.1p ic=0
C8 FREQSET AGND 0.1p ic=0
A20 N061 N057 AGND AGND AGND N058 AGND AGND SRFLOP Vhigh=5 Trise=10n
D5 RAMP N018 Ideal
R12 N018 N005 150
C9 SOFTSTART AGND 0.1p ic=0
R13 VC AGND 800k
.model Ideal D(Ron=0 Roff=1g Vfwd=0)
.model Real D(Ron=10 Roff=1g Vfwd=0.7)
.model Z5 D(Ron=0 Roff=1G Vfwd=0 Vrev=5)
.model HOUT SW(Ron=0.68 Roff=220k Vt=3.25 Vh=-0.7 Vser=1.5 Ilimit=3)
.model LOUT SW(Ron=2.2 Roff=220k Vt=3.25 Vh=-0.7 Vser=0.2 Ilimit=3)
.ends UC3875
*
****************************************************************
* Phase Shift Resonant Controller UC3879
* Model created by Valentyn Volodin
* Created 02.05.2014
****************************************************************  
.subckt UC3879 VREF COMP EA- CS DELAYSET_CD SS OUTD OUTC VC VIN PGND OUTB OUTA CT DELAYSET_AB UVSEL CLKSYNC RT RAMP AGND
D4 AGND RAMP Z5
A4 N008 AGND N012 SHUTDOWN AGND N008 N009 AGND DFLOP Vhigh=5 td=10n Trise=10n
A5 COMP N032 AGND AGND AGND AGND N026 AGND SCHMITT Vhigh=5 Vt=0 Vh=1m Td=115n Trise=10n
A6 N037 COMP AGND AGND AGND AGND N040 AGND SCHMITT Vhigh=5 Vt=0 Vh=1m Trise=10n
V2 N032 RAMP 1.3
A7 VIN AGND AGND AGND AGND AGND N002 AGND SCHMITT Vhigh=5 Vt=12.25 Vh=3 Trise=50n
R3 VIN AGND 53k
G1 VIN AGND UVLO AGND 4.6m
G2 VC AGND UVLO AGND 0.8m
G3 AGND N007 UVLO AGND 10m
D6 AGND N007 Z5
V3 N007 VREF 0
F2 VIN AGND V3 1
V4 N037 AGND 0.9
A8 N027 AGND AGND AGND N012 N034 AGND AGND OR Vhigh=5 Trise=10n
A9 N040 AGND AGND AGND N006 N038 AGND AGND OR Vhigh=5 Trise=10n
A10 N034 N038 AGND AGND AGND N039 AGND AGND SRFLOP Vhigh=5 Trise=10n
A11 N009 AGND AGND AGND N039 N036 N035 AGND XOR Vhigh=5 Trise=20n
E1 N041 AGND SS AGND 1
D7 COMP N041 IDEAL
R4 COMP N052 1k
C1 N051 AGND 1.59n ic=0
E2 N052 AGND N051 AGND 1
I1 N050 N051 15.9m load
I2 N051 N050 15.9m load
E3 N049 AGND N053 EA- 31622
R5 N049 N050 100k
R6 EA- AGND 5meg
C2 N050 AGND 0.1p ic=0
D8 AGND N051 Z5
A12 N062 AGND AGND AGND N069 AGND N068 AGND OR Vhigh=5 Trise=10n
A13 N071 AGND N072 AGND N064 AGND N070 AGND AND Vhigh=5 Trise=10n
A14 N070 N068 AGND AGND AGND SHUTDOWN N067 AGND SRFLOP Vhigh=5 Trise=10n
A15 CS AGND AGND AGND AGND N071 N069 AGND BUF Vhigh=5 Ref=2.5 Td=160n Trise=10n
A16 SS AGND AGND AGND AGND N072 AGND AGND BUF Vhigh=5 Ref=0.2 Trise=10n
A17 SS AGND AGND AGND AGND AGND N065 AGND BUF Vhigh=5 Ref=4.3 Trise=10n
A18 N065 AGND AGND AGND SHUTDOWN AGND N066 AGND AND Vhigh=5 Trise=10n
A19 N062 AGND AGND AGND N066 AGND N063 AGND OR Vhigh=5 Trise=10n
D9 AGND SS Z5
I3 AGND SS 9µ
G4 SS AGND N064 AGND 46µ
A21 VREF AGND AGND AGND AGND AGND N061 AGND BUF Vhigh=5 Ref=4.75 Trise=10n
A22 N061 AGND UVLO AGND AGND N062 AGND AGND AND Vhigh=5 Trise=10n
V5 DELAYSET_AB AGND 2.5 Rser=275
C3 N019 AGND 15p ic=0
D10 N017 N018 Ideal
A23 N016 AGND AGND AGND AGND AGND N017 AGND BUF Vhigh=5 Trise=10n
R8 N018 N019 150
F3 N019 AGND V5 -1
D11 AGND N019 Ideal
A24 N019 AGND AGND AGND AGND AGND N020 AGND BUF Vhigh=5 Ref=1 Trise=10n
A25 N020 N016 SHUTDOWN AGND AGND N015 N021 AGND OR Vhigh=5 Trise=10n
C4 N030 AGND 15p ic=0
D12 N028 N029 Ideal
A26 N023 AGND AGND AGND AGND AGND N028 AGND BUF Vhigh=5 Trise=10n
R9 N029 N030 150
F4 N030 AGND V5 -1
D13 AGND N030 Ideal
A27 N030 AGND AGND AGND AGND AGND N031 AGND BUF Vhigh=5 Ref=1 Trise=10n
A28 N031 N023 SHUTDOWN AGND AGND N025 N033 AGND OR Vhigh=5 Trise=10n
C5 N044 AGND 15p ic=0
D14 N042 N043 Ideal
A29 N035 AGND AGND AGND AGND AGND N042 AGND BUF Vhigh=5 Trise=10n
R10 N043 N044 150
F5 N044 AGND V6 -1
D15 AGND N044 Ideal
A30 N044 AGND AGND AGND AGND AGND N045 AGND BUF Vhigh=5 Ref=1 Trise=10n
A31 N045 N035 SHUTDOWN AGND AGND N048 N047 AGND OR Vhigh=5 Trise=10n
C6 N056 AGND 15p ic=0
D16 N054 N055 Ideal
A32 N036 AGND AGND AGND AGND AGND N054 AGND BUF Vhigh=5 Trise=10n
R11 N055 N056 150
F6 N056 AGND V6 -1
D17 AGND N056 Ideal
A33 N056 AGND AGND AGND AGND AGND N057 AGND BUF Vhigh=5 Ref=1 Trise=10n
A34 N057 N036 SHUTDOWN AGND AGND N059 N058 AGND OR Vhigh=5 Trise=10n
V6 DELAYSET_CD AGND 2.5 Rser=275
S1 OUTA N014 N015 AGND HOUT
S2 PGND P001 N021 AGND LOUT
S3 OUTB N024 N025 AGND HOUT
S4 PGND P002 N033 AGND LOUT
D18 VC N014 IDEAL
D19 VC N024 IDEAL
D20 OUTA P001 IDEAL
D21 OUTB P002 IDEAL
S5 OUTC N046 N048 AGND HOUT
S6 PGND P003 N047 AGND LOUT
S7 OUTD N060 N059 AGND HOUT
S8 PGND P004 N058 AGND LOUT
D22 VC N046 IDEAL
D23 VC N060 IDEAL
D24 OUTC P003 IDEAL
D25 OUTD P004 IDEAL
A35 N009 AGND AGND AGND AGND AGND N016 AGND BUF Vhigh=5 Trise=20n
A36 N008 AGND AGND AGND AGND AGND N023 AGND BUF Vhigh=5 Trise=20n
C7 SS AGND 0.1p ic=0
A20 N067 N063 AGND AGND AGND N064 AGND AGND SRFLOP Vhigh=5 Trise=10n
C9 SS AGND 0.1p ic=0
R13 VC AGND 800k
A37 N022 N026 AGND AGND AGND AGND N027 AGND AND Vhigh=5 Trise=10n
A38 CS AGND AGND AGND AGND N022 AGND AGND BUF Vhigh=5 Ref=2 Td=110n Trise=10n
V7 N053 AGND 2.5
A39 UVSEL AGND AGND AGND AGND AGND N001 AGND SCHMITT Vhigh=5 Vt=9.875 Vh=0.875 Trise=50n
R7 UVSEL AGND 270k
A40 N001 N002 AGND AGND AGND AGND UVLO AGND OR Vhigh=5 Trise=10n
A1 N013 CLKSYNC AGND AGND AGND N012 N006 AGND SRFLOP Vhigh=5 Trise=10n
D1 CT N004 Ideal
R1 N005 N006 20
D2 N010 N011 Ideal
R2 CLKSYNC AGND 100k
R12 N011 CLKSYNC 10
A2 CT AGND AGND AGND AGND N013 AGND AGND BUF Vhigh=5 Ref=0.2 Trise=10n
F1 AGND CT V1 -1
V1 N003 AGND 2.5
I4 N004 N005 10m load
A3 CT AGND AGND AGND AGND AGND N010 AGND SCHMITT Vlow=1 Vhigh=4 Vt=1.6 Vh=1.3 Trise=10n
R15 RT N003 470
.model Ideal D(Ron=0 Roff=1g Vfwd=0)
.model Real D(Ron=10 Roff=1g Vfwd=0.7)
.model Z5 D(Ron=0 Roff=1G Vfwd=0 Vrev=5)
.model HOUT SW(Ron=0.68 Roff=220k Vt=3.25 Vh=-0.7 Vser=1.5 Ilimit=0.1)
.model LOUT SW(Ron=2.2 Roff=220k Vt=3.25 Vh=-0.7 Vser=0.2 Ilimit=0.1)
.ends UC3879
*
****************************************************************
* Обмотка идеального трансформатора. Эта обмотка позволяет передавать 
* постоянную составляющую тока намагничивания в индуктивность 
* намагничивания модели нелинейного трансформатора.
* Создана 4 Июня 2015 года.
* http://valvolodin.narod.ru/articles/nransformer.pdf
****************************************************************
.subckt winding bi ei bo eo
E1 N001 ei bo eo {ktr}
V1 bi N001 0
F1 eo bo V1 {ktr}
.ends winding